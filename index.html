<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elmotor · Hallsensorfäste</title>
  <meta name="description" content="Projekt med fokus på elmotor och design av hallsensorfäste." />

  <style>
    :root{
      --bg:#070a12;
      --panel:#0c1222;
      --text:#eaf0ff;
      --muted:#b7c1df;
      --line:rgba(255,255,255,.12);
      --shadow: 0 14px 40px rgba(0,0,0,.45);
      --radius:18px;
      --max: 980px;
      --a:#7aa2ff;
      --b:#6ef3c5;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 10% 0%, rgba(122,162,255,.20), transparent 60%),
        radial-gradient(900px 600px at 90% 5%, rgba(110,243,197,.16), transparent 60%),
        linear-gradient(180deg, #050714 0%, var(--bg) 55%, #05060d 100%);
    }
    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding:26px 18px 60px}

    header{
      position:sticky; top:0; z-index:20;
      backdrop-filter: blur(12px);
      background: rgba(5,7,20,.55);
      border-bottom:1px solid var(--line);
    }
    .topbar{
      max-width:var(--max);
      margin:0 auto;
      padding:12px 18px;
      display:flex; justify-content:space-between; align-items:center;
    }
    .brand{display:flex; gap:10px; font-weight:800; text-decoration:none; align-items:center}
    .logo{
      width:14px; height:14px; border-radius:50%;
      background: linear-gradient(135deg, var(--a), var(--b));
    }
    nav{display:flex; gap:10px; flex-wrap:wrap}
    .pill{
      padding:8px 10px;
      border-radius:999px;
      color:var(--muted);
      text-decoration:none;
    }
    .pill:hover{color:var(--text)}

    .card{
      border-radius:var(--radius);
      border:1px solid var(--line);
      background: rgba(12,18,34,.72);
      box-shadow: var(--shadow);
    }
    .pad{padding:22px}
    h1{margin:0 0 10px; font-size:36px}
    h2{margin:0 0 10px}
    p{color:var(--muted); line-height:1.6}

    .chips{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px}
    .chip{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
    }

    .cta{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap}
    .btn{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      font-weight:800;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(122,162,255,.25), rgba(110,243,197,.15));
    }

    .grid{
      display:grid;
      grid-template-columns:1.2fr .8fr;
      gap:14px;
    }
    @media (max-width:860px){.grid{grid-template-columns:1fr}}

    .subcard{
      border-radius:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      padding:14px;
    }

    /* Gallery */
    .gallery{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
      gap:14px;
    }
    .gallery img{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.15);
      cursor: zoom-in;
      display:block;
    }
    figcaption{font-size:13px; color:var(--muted); margin-top:8px; line-height:1.45}

    /* Lightbox */
    .lightbox{
      position:fixed; inset:0;
      background: rgba(0,0,0,.86);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
      padding: 22px;
    }
    .lightbox.open{display:flex}
    .lightbox img{
      max-width:94vw;
      max-height:92vh;
      border-radius:16px;
      cursor: zoom-out;
    }

    /* Video (Shorts) */
    .videoGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      margin-top:12px;
    }
    @media (max-width:860px){ .videoGrid{grid-template-columns:1fr} }

    .videoCard{
      border-radius:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    .videoWrap{
      width:100%;
      aspect-ratio: 9/16;
      background: rgba(0,0,0,.25);
      transform: scaleY(0.75);
      transform-origin: top;
    }
    .videoWrap iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }
    .videoMeta{
      padding:12px 14px;
      color:var(--muted);
      line-height:1.45;
      font-size:13px;
    }
    .videoMeta b{
      display:block;
      color:var(--text);
      margin-bottom:6px;
      font-size:14px;
    }

    /* LinkedIn thumbnail smaller + hint */
    .thumbWrap{
      max-width: 340px;
      margin: 12px auto 0;
      position: relative;
    }
    .thumbWrap img{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.15);
      cursor: zoom-in;
      display:block;
    }
    .zoomHint{
      position:absolute;
      left:10px;
      bottom:10px;
      font-size:12px;
      color: rgba(234,240,255,.92);
      background: rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.16);
      padding:8px 10px;
      border-radius:999px;
      backdrop-filter: blur(10px);
      pointer-events:none;
    }

    footer{
      margin-top:20px;
      padding-top:18px;
      border-top:1px solid var(--line);
      font-size:13px;
      color:var(--muted);
      display:flex; justify-content:space-between;
      gap:10px; flex-wrap:wrap;
    }
  </style>
</head>

<body>
<header>
  <div class="topbar">
    <a class="brand" href="#top">
      <span class="logo"></span>
      <span>Elmotor · Hallsensorfäste</span>
    </a>
    <nav>
      <a class="pill back" href="https://maxwellmollersten.github.io/projects/">← Alla projekt</a>
      <a class="pill" href="#overview">Översikt</a>
      <a class="pill" href="#mywork">Min del</a>
      <a class="pill" href="#videos">Video</a>
      <a class="pill" href="#gallery">Bilder</a>
      <a class="pill" href="#linkedin">LinkedIn</a>
    </nav>
  </div>
</header>

<main id="top" class="wrap">

  <!-- OVERVIEW -->
  <section class="card pad" id="overview">
    <h1>Elmotorprojekt</h1>
    <p>
      Projekt med fokus på elmotorintegration och min uppgift:
      <b>design och montering av hallsensorfäste</b> för rotorposition och varvtal.
      Projektet genomfördes inom en kurs där cirka 30 studenter hade målet att konvertera en Volvo XC40
      från förbränningsmotor (ICE) till eldrift med en egenbyggd drivlina.
      Arbetet var uppdelat i flera delgrupper med tydliga ansvarsområden,
      och mitt bidrag låg i motorgruppen med fokus på att ta fram en mekaniskt stabil lösning som gav tillförlitlig hallsensorsignal
      under test och drift.
    </p>


      
    <div class="chips">
      <span class="chip">BLDC</span>
      <span class="chip">Hallsensorer</span>
      <span class="chip">SolidWorks</span>
      <span class="chip">3D-print</span>
    </div>
  </section>

  <!-- MY WORK -->
  <section class="card pad" id="mywork" style="margin-top:14px">
    <h2>Min del: Hallsensorfäste</h2>
    <div class="grid">
      <div class="subcard">
        <ul>
          <li>Mekanisk infästning i statorn</li>
          <li>Korrekt avstånd till rotor­magneter</li>
          <li>Kabeldragning och vibrations­tålighet</li>
        </ul>
      </div>
      <div class="subcard">
        <p>
          Designen itererades efter test för att förbättra signalstyrka och passform.
          Slutversionen gav stabil detektion under drift.
        </p>
      </div>
    </div>
  </section>

  <!-- VIDEOS -->
  <section class="card pad" id="videos" style="margin-top:14px">
    <h2>Video</h2>
    <div class="videoGrid">
      <article class="videoCard">
        <div class="videoWrap">
          <iframe
            src="https://www.youtube.com/embed/2D2PQL_NvOk"
            title="Pre-test – motor i rigg"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe>
        </div>
        <div class="videoMeta">
          <b>Pre-test – motor i rigg</b>
          Första test innan inmontering.
        </div>
      </article>

      <article class="videoCard">
        <div class="videoWrap">
          <iframe
            src="https://www.youtube.com/embed/SbzqgAn4Eh4"
            title="Körning – bilen i drift"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe>
        </div>
        <div class="videoMeta">
          <b>Körning – bilen i drift</b>
          Bilen i drift med färdig motorintegration.
        </div>
      </article>
    </div>
  </section>

  <!-- GALLERY -->
  <section class="card pad" id="gallery" style="margin-top:14px">
    <h2>Bilder</h2>
    <div class="gallery" id="galleryGrid"></div>
  </section>

  <!-- LINKEDIN -->
  <section class="card pad" id="linkedin" style="margin-top:14px">
    <h2>LinkedIn</h2>
    <div class="cta">
      <a class="btn primary"
         href="https://www.linkedin.com/feed/update/urn:li:activity:7311366460423995393/"
         target="_blank" rel="noreferrer">
        Öppna LinkedIn-inlägg
      </a>
    </div>

    <div class="thumbWrap">
      <img
        src="media/uu-linkedin.png"
        data-full="media/uu-linkedin.png"
        alt="LinkedIn-inlägg från Uppsala universitet"
      />
      <div class="zoomHint">Klicka för att förstora</div>
    </div>

    <figcaption style="text-align:center; margin-top:10px;">
      Uppsala universitet lyfter projektet.
    </figcaption>
  </section>

  <footer>
    <div>© <span id="year"></span> Elmotor</div>
    <div>GitHub Pages</div>
  </footer>
</main>

<div class="lightbox" id="lightbox">
  <img id="lightboxImg" alt="">
</div>

<script>
  const photos = [
    {
      src: "media/hall_bracket_cad.jpg",
      full: "media/hall_bracket_cad.jpg",
      caption: "CAD-modell av hallsensorfäste."
    },
    {
      src: "media/motor.jpg",
      full: "media/motor.jpg",
      caption: "Motorn i projektet."
    }
  ];

  const galleryGrid = document.getElementById("galleryGrid");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightboxImg");

  galleryGrid.innerHTML = photos.map(p => `
    <figure>
      <img src="${p.src}" data-full="${p.full}" alt="">
      <figcaption>${p.caption}</figcaption>
    </figure>
  `).join("");

  function openLightbox(src){
    lightboxImg.src = src;
    lightbox.classList.add("open");
    document.body.style.overflow = "hidden";
  }
  function closeLightbox(){
    lightbox.classList.remove("open");
    lightboxImg.src = "";
    document.body.style.overflow = "";
  }

  document.querySelectorAll("img[data-full]").forEach(img=>{
    img.onclick = () => openLightbox(img.dataset.full || img.src);
  });

  lightbox.onclick = closeLightbox;
  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape") closeLightbox();
  });

  document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>
